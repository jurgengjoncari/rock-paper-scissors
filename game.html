<!DOCTYPE html>
<html>
    <head></head>
    <body>
        <script>
            var items = ["Rock", "Paper", "Scissors"];
            // Choose a random item for the Computer
            computerPlay = () => items[Math.floor(Math.random() * items.length)];
            // Compare two sets in general
            eqSet = (set1, set2) => {
                if (set1.size !== set2.size) return false;
                for (let a of set1) if (!set2.has(a)) return false;
                return true;
            }
            // What beats what
            what = [["Rock", "Scissors"], ["Scissors", "Paper"], ["Paper", "Rock"]]
            beats = (item1, item2) => {
                for (let i = 0; i < 3; i++) {
                    if (eqSet(new Set([item1, item2]), new Set(what[i]))) {
                        const winner = what[i][0];
                        const loser = what[i][1];
                    }
                }
            }
            // Play one round
            playRound = () => {
                playerSelection = prompt("Enter your selection: ");
                computerSelection = computerPlay();
                beats(playerSelection, computerSelection);
                if (playerSelection.toLowerCase() == winner.toLowerCase()) {
                    winOrLose = "win";
                }
                else if (playerSelection.toLowerCase() == loser.toLowerCase()) {
                    winOrLose = "lose";
                }
                return `You ${winOrLose}! ${winner} beats ${loser}`;
            }
            // Play five rounds
            game = () => {
                let countPlayer = 0;
                let countComputer = 0;
                for (let i = 0; i < 5; i++) {
                    playRound();
                    if (winOrLose = "win") {
                        countPlayer++;
                    } else {
                        countComputer++;
                    }
                    console.log(playRound());
                }
                if (countPlayer > countComputer) {
                    gameWinner = "You are the winner!"
                } else {
                    gameWinner = "The computer is the winner!"
                }
                console.log(gameWinner);
            }
        </script>
    </body>
</html>